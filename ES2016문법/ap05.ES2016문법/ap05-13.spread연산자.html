<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>스프레드 연산자</title>
</head>

<body>
    <xmp>
        스프레드 사용법을 학습한다.

        ES 5에서는
        arguments 매개변수는 유사 배열 객체다.
            length 프로퍼티가 있다.
            Array  메서드를 사용할 수 없다.
            arrow function에서는 arguments는 사용할 수 없다.

        ES 6에서는
        rest 매개변수는 배열이다.
            rest 연산자(...)를 사용하여 함수의 매개변수를 작성한 형태다.
            함수의 매개변수로 넘어오는 값들을 "배열"로 만든다.

        Spread 연산자는 ... 이다.
            이터러블(iterable) 객체를 "개별" 요소로 분리
            이터러블(iterable) 객체에는 Array, String, Map, Set 등이 있다.
            iterator를 생성해서 next()로 순회할 수 있는 자료구조가 이터러블
    </xmp>

    <xmp>
    ES6 코드를 브라우저에서 실행하려면 babel 이 필요하다.

    < script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js">/* ES5로 변환 */</script>
    < script type="text/babel">
        // ES6 코딩
    </script>
    </xmp>
</body>

</html>


<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js">
    /* 자바스크립트로 컴파일러. ES6-->ES5, JSX-->ES5 */
</script>
<script type="text/babel">
    /* rest, spread 연산자 ... */
    const cities = ["서울", "부산", "제주"];
    /* 기존 방식 (ES5) */
    console.log( cities[0], cities[1], cities[2]);
    /* spread 방식 (ES6) */
    console.log(...cities);

    const east = ["U", "K", "T"];
    const west = ["N", "C", "G"];
    /* spread : 값을 분해하는 연산자 */
    const countries = [...east, ...west];   // ... : spread 연산자 // 분해한 뒤 새로운 배열로 할당
    console.log(countries);

    let lakes = ["경포호", "화진포", "송지호", "청초호"];
    /* rest : 기존 iterable 객체에서 값을 순서대로 받는다 */
    let [first, ...rest] = lakes;   // ...rest : rest 연산자
    console.log(first);
    console.log(rest);

    let [city1, ...cityrest] = [...east, ...west];  // rest와 spread, 분해 할당을 사용
    console.log(cityrest);

    /* 객체에서 spread 연산자와 분해할당을 사용하는 예제를 작성하여 본다. */
    const car1 = {
        type: "t",
        color: "S",
        model: 2017,
    }
    const car2 = {
        type: "c",
        color: "B",
        model: 2019,
    }

    const { type } = { ...car1 };   // 분해할당 car1의 type을 꺼내서 변수명 type에 할당
    console.log(type); // t

    const funct = function( { type } ){
        console.log(type);
    };
    funct( { ...car1, ...car2 } );    // { type } = { ...car1, ...car2 }
</script>

